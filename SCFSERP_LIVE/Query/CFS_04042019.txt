
1.



SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

alter PROCEDURE pr_Export_Shutout_Detail_Ctrl_Assgn @PTranMId int
AS
BEGIN

	SET NOCOUNT ON;

SELECT        dbo.TRANSACTIONDETAIL.TRANDID, dbo.TRANSACTIONDETAIL.STFDID, dbo.TRANSACTIONDETAIL.TRANDREFID, dbo.GATEINDETAIL.CONTNRNO, 
                         dbo.CONTAINERSIZEMASTER.CONTNRSDESC, dbo.GATEINDETAIL.GIDATE, dbo.TRANSACTIONDETAIL.SBDID, dbo.TRANSACTIONDETAIL.TRANSDATE AS SBDDATE, 
                         dbo.TRANSACTIONDETAIL.TRANEDATE AS GODATE, dbo.TRANSACTIONDETAIL.TRANDSAMT, dbo.TRANSACTIONDETAIL.TRANDHAMT, 
                         dbo.TRANSACTIONDETAIL.TRANDNAMT, dbo.TRANSACTIONDETAIL.TRANDQTY AS STFDQTY, dbo.TRANSACTIONDETAIL.TRANDNOP AS STFDNOP, 
                         dbo.GATEINDETAIL.CONTNRSID, dbo.TRANSACTIONDETAIL.RAMT1, dbo.TRANSACTIONDETAIL.RAMT2, dbo.TRANSACTIONDETAIL.RAMT3, 
                         dbo.TRANSACTIONDETAIL.RCAMT1, dbo.TRANSACTIONDETAIL.RCAMT2, dbo.TRANSACTIONDETAIL.RCAMT3, dbo.TRANSACTIONDETAIL.RCOL1, 
                         dbo.TRANSACTIONDETAIL.RCOL2, dbo.TRANSACTIONDETAIL.RCOL3, dbo.TRANSACTIONDETAIL.RCOL4, dbo.TRANSACTIONDETAIL.RCOL5, 
                         dbo.TRANSACTIONDETAIL.RCOL6, dbo.TRANSACTIONMASTER.STRG_HSNCODE, dbo.TRANSACTIONMASTER.HANDL_HSNCODE, 
                         dbo.TRANSACTIONMASTER.STRG_TAXABLE_AMT, dbo.TRANSACTIONMASTER.HANDL_TAXABLE_AMT, dbo.TRANSACTIONMASTER.STRG_CGST_EXPRN, 
                         dbo.TRANSACTIONMASTER.STRG_SGST_EXPRN, dbo.TRANSACTIONMASTER.STRG_IGST_EXPRN, dbo.TRANSACTIONMASTER.STRG_CGST_AMT, 
                         dbo.TRANSACTIONMASTER.STRG_SGST_AMT, dbo.TRANSACTIONMASTER.STRG_IGST_AMT, dbo.TRANSACTIONMASTER.HANDL_CGST_EXPRN, 
                         dbo.TRANSACTIONMASTER.HANDL_SGST_EXPRN, dbo.TRANSACTIONMASTER.HANDL_IGST_EXPRN, dbo.TRANSACTIONMASTER.HANDL_CGST_AMT, 
                         dbo.TRANSACTIONMASTER.HANDL_SGST_AMT, dbo.TRANSACTIONMASTER.HANDL_IGST_AMT, dbo.TRANSACTIONMASTER.TRANCGSTAMT, 
                         dbo.TRANSACTIONMASTER.TRANSGSTAMT, dbo.TRANSACTIONMASTER.TRANIGSTAMT, dbo.TRANSACTIONMASTER.TRANBILLREFNO, 
                         dbo.STATEMASTER.STATETYPE
FROM            dbo.TRANSACTIONDETAIL INNER JOIN
                         dbo.GATEINDETAIL ON dbo.TRANSACTIONDETAIL.TRANDREFID = dbo.GATEINDETAIL.GIDID INNER JOIN
                         dbo.CONTAINERSIZEMASTER ON dbo.GATEINDETAIL.CONTNRSID = dbo.CONTAINERSIZEMASTER.CONTNRSID INNER JOIN
                         dbo.TRANSACTIONMASTER ON dbo.TRANSACTIONDETAIL.TRANMID = dbo.TRANSACTIONMASTER.TRANMID INNER JOIN
                         dbo.CATEGORYMASTER ON dbo.TRANSACTIONMASTER.TRANREFID = dbo.CATEGORYMASTER.CATEID INNER JOIN
                         dbo.STATEMASTER ON dbo.CATEGORYMASTER.STATEID = dbo.STATEMASTER.STATEID
WHERE        (dbo.TRANSACTIONDETAIL.TRANMID = @PTranMId)
	order by TRANDID


END
GO



2.


USE [CFS]
GO

/****** Object:  View [dbo].[VW_EXPORT_SOut_INVOICE_PRINT]    Script Date: 05/04/2019 12:40:31 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

create VIEW [dbo].[VW_EXPORT_SOut_INVOICE_PRINT]
AS
SELECT        dbo.COMPANYMASTER.COMPDNAME, dbo.COMPANYMASTER.COMPADDR, dbo.TRANSACTIONMASTER.TRANMID, dbo.TRANSACTIONMASTER.SDPTID, 
                         dbo.TRANSACTIONDETAIL.TRANDID, dbo.TRANSACTIONMASTER.TRANDATE, dbo.TRANSACTIONMASTER.TRANTIME, dbo.TRANSACTIONMASTER.TRANBTYPE, 
                         dbo.TRANSACTIONMASTER.TRANDNO, dbo.TRANSACTIONMASTER.TRANNO, dbo.TRANSACTIONMASTER.TRANREFID, dbo.TRANSACTIONMASTER.REGSTRID, 
                         dbo.TRANSACTIONMASTER.TRANMODE, dbo.TRANSACTIONMASTER.TRANREFNO, dbo.TRANSACTIONMASTER.TRANREFBNAME, 
                         dbo.TRANSACTIONMASTER.TRANREFDATE, dbo.TRANSACTIONMASTER.TRANMODEDETL, dbo.TRANSACTIONMASTER.TRANNARTN, 
                         dbo.TRANSACTIONMASTER.TRANRMKS, dbo.TRANSACTIONMASTER.TRANREFNAME, dbo.CATEGORYMASTER.CATEADDR1 AS CATEADDR, 
                         dbo.TRANSACTIONDETAIL.TRANDREFNAME, dbo.TRANSACTIONMASTER.TRANREFAMT, dbo.TRANSACTIONDETAIL.TRANDREFNO, 
                         dbo.TRANSACTIONMASTER.TRANGAMT, dbo.TRANSACTIONMASTER.TRANSAMT, dbo.TRANSACTIONMASTER.TRANHAMT, dbo.TRANSACTIONMASTER.TRANNAMT, 
                         dbo.TRANSACTIONDETAIL.TRANDREFID, dbo.TRANSACTIONMASTER.TRANAMTWRDS, dbo.TRANSACTIONDETAIL.TRANIDATE, 
                         dbo.TRANSACTIONDETAIL.TRANSDATE, dbo.TRANSACTIONDETAIL.TRANEDATE, dbo.TRANSACTIONDETAIL.TRANVDATE, dbo.TRANSACTIONDETAIL.TRANDQTY, 
                         dbo.TRANSACTIONDETAIL.TRANDRATE, dbo.TRANSACTIONDETAIL.TRANDWGHT, dbo.TRANSACTIONDETAIL.TRANDGAMT, dbo.TRANSACTIONDETAIL.TRANDSAMT, 
                         dbo.TRANSACTIONDETAIL.TRANDHAMT, dbo.TRANSACTIONDETAIL.TRANDNAMT, CONTAINERSIZEMASTER_1.CONTNRSDESC, 
                         dbo.TRANSACTIONDETAIL.TRANVHLFROM, dbo.TRANSACTIONDETAIL.TRANVHLTO, dbo.TRANSACTIONMASTER.CUSRID, dbo.TRANSACTIONMASTER.LMUSRID, 
                         dbo.TRANSACTIONMASTER.CUSRID AS USRNAME, dbo.COMPANYMASTER.COMPPDESC1, dbo.COMPANYMASTER.COMPPDESC2, dbo.TMPRPT_IDS.KUSRID, 
                         dbo.CATEGORYMASTER.CATEADDR2, dbo.CATEGORYMASTER.CATEADDR3, dbo.CATEGORYMASTER.CATEADDR4, 
                         CONTAINERSIZEMASTER_1.CONTNRSID AS Expr1, dbo.TRANSACTIONMASTER.TRANBILLREFNO, dbo.CATEGORYMASTER.CATEGSTNO, 
                         dbo.STATEMASTER.STATEDESC, dbo.STATEMASTER.STATECODE, dbo.TRANSACTIONMASTER.STRG_HSNCODE, dbo.TRANSACTIONMASTER.HANDL_HSNCODE, 
                         dbo.TRANSACTIONMASTER.STRG_TAXABLE_AMT, dbo.TRANSACTIONMASTER.HANDL_TAXABLE_AMT, dbo.TRANSACTIONMASTER.STRG_CGST_EXPRN, 
                         dbo.TRANSACTIONMASTER.STRG_SGST_EXPRN, dbo.TRANSACTIONMASTER.STRG_IGST_EXPRN, dbo.TRANSACTIONMASTER.STRG_CGST_AMT, 
                         dbo.TRANSACTIONMASTER.STRG_SGST_AMT, dbo.TRANSACTIONMASTER.STRG_IGST_AMT, dbo.TRANSACTIONMASTER.HANDL_CGST_EXPRN, 
                         dbo.TRANSACTIONMASTER.HANDL_SGST_EXPRN, dbo.TRANSACTIONMASTER.HANDL_IGST_EXPRN, dbo.TRANSACTIONMASTER.HANDL_CGST_AMT, 
                         dbo.TRANSACTIONMASTER.HANDL_SGST_AMT, dbo.TRANSACTIONMASTER.HANDL_IGST_AMT, dbo.TRANSACTIONMASTER.TRANCGSTAMT, 
                         dbo.TRANSACTIONMASTER.TRANSGSTAMT, dbo.TRANSACTIONMASTER.TRANIGSTAMT, dbo.COMPANYMASTER.COMPGSTNO, dbo.GATEINDETAIL.CONTNRNO, 
                         dbo.CONTAINERSIZEMASTER.CONTNRSDESC AS Expr2
FROM            dbo.TRANSACTIONDETAIL INNER JOIN
                         dbo.TRANSACTIONMASTER ON dbo.TRANSACTIONDETAIL.TRANMID = dbo.TRANSACTIONMASTER.TRANMID INNER JOIN
                         dbo.COMPANYACCOUNTINGDETAIL ON dbo.TRANSACTIONMASTER.COMPYID = dbo.COMPANYACCOUNTINGDETAIL.COMPYID INNER JOIN
                         dbo.COMPANYMASTER ON dbo.COMPANYACCOUNTINGDETAIL.COMPID = dbo.COMPANYMASTER.COMPID INNER JOIN
                         dbo.CATEGORYMASTER ON dbo.TRANSACTIONMASTER.TRANREFID = dbo.CATEGORYMASTER.CATEID INNER JOIN
                         dbo.TMPRPT_IDS ON dbo.TRANSACTIONMASTER.TRANMID = dbo.TMPRPT_IDS.RPTID INNER JOIN
                         dbo.GATEINDETAIL ON dbo.TRANSACTIONDETAIL.TRANDREFID = dbo.GATEINDETAIL.GIDID INNER JOIN
                         dbo.CONTAINERSIZEMASTER ON dbo.GATEINDETAIL.CONTNRSID = dbo.CONTAINERSIZEMASTER.CONTNRSID LEFT OUTER JOIN
                         dbo.STATEMASTER ON dbo.CATEGORYMASTER.STATEID = dbo.STATEMASTER.STATEID CROSS JOIN
                         dbo.CONTAINERSIZEMASTER AS CONTAINERSIZEMASTER_1

GO


